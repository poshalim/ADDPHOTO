"use strict";var workSwiper=new Swiper(".work__slider",{slidesPerView:3,initialSlide:1,centeredSlides:!0,loop:!0,setWrapperSize:!0,spaceBetween:-32,speed:700,pagination:{el:".work__pagination",clickable:!0},navigation:{nextEl:".work__next",prevEl:".work__prev"}}),workSwiper2=new Swiper(".work-gallery__slider",{loop:!0,setWrapperSize:!0,speed:700,navigation:{nextEl:".work-gallery__next",prevEl:".work-gallery__prev"}}),locationSwiper=new Swiper(".locations__slider",{slidesPerView:1,initialSlide:1,centeredSlides:!0,loop:!0,spaceBetween:27,speed:700,navigation:{nextEl:".locations__next",prevEl:".locations__prev"},breakpoints:{800:{slidesPerView:3,spaceBetween:27}}}),locationSwiper2=new Swiper(".locations-gallery__slider",{loop:!0,setWrapperSize:!0,speed:700,navigation:{nextEl:".locations-gallery__next",prevEl:".locations-gallery__prev"}}),reviewsSwiper=new Swiper(".reviews__slider",{slidesPerView:1,initialSlide:1,loop:!0,speed:700,navigation:{nextEl:".reviews__next",prevEl:".reviews__prev"},breakpoints:{850:{slidesPerView:2,spaceBetween:21,centeredSlides:!1},1025:{slidesPerView:3,spaceBetween:16,centeredSlides:!0}}}),buttons=Array.from(document.querySelectorAll(".info__more"));function boxHandler(e){e.preventDefault();var e=e.target.closest(".accordion"),t=e.querySelector(".accordion__head"),r=e.querySelector(".info__panel");e.classList.toggle("accordion-active"),e.classList.contains("accordion-active")?(r.style.maxHeight=r.scrollHeight+"px",e.querySelector(".info__btn").innerHTML="Скрыть",t.lastElementChild.style.display="none"):(r.style.maxHeight=0,e.querySelector(".info__btn").innerHTML="Подробнее",t.lastElementChild.style.display="block")}buttons.forEach(function(e){e.addEventListener("click",boxHandler)});var modalBtns=document.querySelectorAll(".modal-open"),modals=document.querySelectorAll(".modal"),body=document.body;function openModal(e){e.classList.add("modal-active"),body.classList.add("_locked")}function closeModal(e){(e.target.classList.contains("modal__close")||e.target.closest(".modal__close")||e.target.classList.contains("modal__bg"))&&(e.target.closest(".modal").classList.remove("modal-active"),body.classList.remove("_locked"))}modalBtns.forEach(function(e){e.addEventListener("click",function(t){var r=t.target.dataset.modalOpen;modals.forEach(function(e){e.classList.contains("modal-active")&&e.classList.remove("modal-active"),e.dataset.modal!=r&&e.dataset.modal!=t.target.closest(".modal-open").dataset.modalOpen||openModal(e)})})}),modals.forEach(function(e){e.addEventListener("click",function(e){return closeModal(e)})}),window.addEventListener("keydown",function(t){modals.forEach(function(e){"Escape"===t.key&&e.classList.contains("modal-active")&&(e.classList.remove("modal-active"),body.classList.remove("_locked"))})});var modal,currentItem,currentSum,selectHeader=document.querySelectorAll(".select__header"),selectItems=document.querySelectorAll(".select__item"),priceBtns=(selectHeader.forEach(function(e){e.addEventListener("click",function(e){var e=e.target.closest(".select"),t=e.querySelector(".select__body");e.classList.toggle("select-active"),e.classList.contains("select-active")?t.style.maxHeight=t.scrollHeight+"px":t.style.maxHeight=0})}),selectItems.forEach(function(e){e.addEventListener("click",function(e){var t=e.target.closest(".select"),e=e.target,r=t.querySelector(".select__current"),i=t.querySelector(".select__body");r.innerHTML=e.innerHTML,t.classList.toggle("select-active"),i.style.maxHeight=0,r.classList.contains("select__text")&&r.classList.remove("select__text")})}),document.querySelectorAll(".price__extra-item")),saveBtn=(priceBtns.forEach(function(e){var i=e.closest(".price__item").querySelector(".price__item-sum").innerHTML;e.addEventListener("click",function(e){var t,r;currentItem=e.target.closest(".price__item"),currentSum=currentItem.querySelector(".price__item-sum").innerHTML,currentItem.querySelector(".extra-visagiste")&&(t=currentItem.querySelector(".extra-visagiste").innerHTML),e.target.classList.contains("extra-retouch")?(currentItem.querySelector(".extra-retouch").classList.contains("active")&&(currentSum=i,currentItem.querySelector(".extra-visagiste")&&currentItem.querySelector(".extra-visagiste").classList.contains("active")&&(currentSum=+i+ +t.match(/\d/g).join(""))),"N"==currentSum&&(currentSum=0),(r=(modal=document.querySelector(".modal-active")).querySelector(".form__input")).addEventListener("keyup",function(){3<r.value.length&&(r.value=r.value.slice(0,3))})):e.target.classList.contains("extra-retouch")||(e.target.closest(".price__extra-item").classList.toggle("active"),e.target.classList.contains("extra-visagiste")&&(e.target.classList.contains("active")?currentItem.querySelector(".price__item-sum").innerHTML=+currentSum+ +t.match(/\d/g).join(""):currentItem.querySelector(".price__item-sum").innerHTML=currentSum-+t.match(/\d/g).join("")))})}),document.querySelector(".save")),uploadfile=(saveBtn.addEventListener("click",function(e){var t=modal.querySelector(".form__input").value,r=+currentSum+250*t;0<=t&&t<=500?(currentItem.querySelector(".price__item-sum").innerHTML=r,modal.classList.remove("modal-active"),document.body.classList.toggle("_locked")):alert("Введите число от 0 до 500"),0!=+t?currentItem.querySelector(".extra-retouch").classList.add("active"):currentItem.querySelector(".extra-retouch").classList.remove("active")}),document.getElementById("upload-file")),btn=document.querySelector(".form__review-btn"),div=(btn.addEventListener("click",function(){uploadfile.click()}),document.createElement("div")),closeBtns=(div.className="form__review-box",div.setAttribute("contenteditable","false"),uploadfile.addEventListener("change",function(){var e,t,r,i;uploadfile.value&&((r=document.querySelector(".form__review-text")).querySelector(".form__review-box")||r.appendChild(div),(r=document.createElement("div")).className="form__review-item",(e=document.createElement("div")).className="form__review-close",(t=document.createElement("img")).className="form__review-img",div.appendChild(r),r.appendChild(t),r.appendChild(e),r=uploadfile.files[0],(i=new FileReader).readAsDataURL(r),i.onload=function(){t.src=i.result},document.querySelectorAll(".form__review-close").forEach(function(e){e.addEventListener("click",function(e){e.target.closest(".form__review-item").remove()})}))}),document.querySelector(".header__menu").addEventListener("click",function(e){(e.target.classList.contains("header__head")||e.target.closest(".header__head"))&&(e.target.closest(".header__menu").querySelector(".header__body").classList.toggle("header__body--active"),document.body.classList.toggle("_locked"))}),document.querySelectorAll(".modal__close"));closeBtns.forEach(function(e){var t=e.closest(".modal").querySelector(".modal__body");970<window.innerWidth?(e.style.right=(window.innerWidth-t.clientWidth)/2+"px",e.style.top=(window.innerHeight-t.clientHeight)/2-36+"px"):(e.style.right=(window.innerWidth-t.clientWidth)/2+12+"px",e.style.top=(window.innerHeight-t.clientHeight)/2+12+"px")}),window.addEventListener("resize",function(){document.querySelectorAll(".modal__close").forEach(function(e){var t=e.closest(".modal").querySelector(".modal__body");970<window.innerWidth?(e.style.right=(window.innerWidth-t.clientWidth)/2+"px",e.style.top=(window.innerHeight-t.clientHeight)/2-36+"px"):(e.style.right=(window.innerWidth-t.clientWidth)/2+12+"px",e.style.top=(window.innerHeight-t.clientHeight)/2+12+"px")})});
//# sourceMappingURL=main.min.js.map
