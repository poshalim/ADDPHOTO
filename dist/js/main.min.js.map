{"version":3,"sources":["main.js"],"names":["workSwiper","Swiper","slidesPerView","initialSlide","centeredSlides","loop","setWrapperSize","spaceBetween","speed","pagination","navigation","nextEl","workSwiper2","breakpoints","800","reviewsSwiper","prevEl","850","buttons","addEventListener","currentBox","classList","toggle","querySelectorAll","boxHandler","e","currentContent","querySelector","closest","currentHead","lastElementChild","display","contains","modalBtns","document","scrollHeight","modals","innerHTML","body","style","elem","maxHeight","box","openModal","btn","target","modal","remove","dataset","forEach","modalOpen","closeModal","data","selectHeader","currentSelect","currentBody","currentItem","currentSum","selectItems","priceBtns","select","initialSum","saveBtn","sum","input","match","join","length","slice","value","uploadfile","amount","current","alert","add","getElementById","className","click","createElement","div","setAttribute","reviewText","img","appendChild","file","reader","close","item","FileReader","files","readAsDataURL","result","onload","src","closeBtns","right","window","innerWidth","clientWidth","top","innerHeight","clientHeight"],"mappings":"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","file":"main.min.js","sourcesContent":["// swiper \r\nconst workSwiper = new Swiper('.work__slider', {\r\n  slidesPerView: 3,\r\n  initialSlide: 1,\r\n  centeredSlides: true,\r\n  loop: true,\r\n  setWrapperSize: true,\r\n  spaceBetween: -32,\r\n  speed: 700,\r\n  pagination: {\r\n    el: \".work__pagination\",\r\n    clickable: true,\r\n  },\r\n  navigation: {\r\n    nextEl: '.work__next',\r\n    prevEl: '.work__prev',\r\n  },\r\n});\r\n\r\nconst workSwiper2 = new Swiper('.work-gallery__slider', {\r\n  loop: true,\r\n  setWrapperSize: true,\r\n  speed: 700,\r\n  navigation: {\r\n    nextEl: '.work-gallery__next',\r\n    prevEl: '.work-gallery__prev',\r\n  },\r\n});\r\n\r\n\r\n\r\nconst locationSwiper = new Swiper('.locations__slider', {\r\n  slidesPerView: 1,\r\n  initialSlide: 1,\r\n  centeredSlides: true,\r\n  loop: true,\r\n  spaceBetween: 27,\r\n  speed: 700,\r\n  navigation: {\r\n    nextEl: '.locations__next',\r\n    prevEl: '.locations__prev',\r\n  },\r\n\r\n  breakpoints: {\r\n    800: {\r\n      slidesPerView: 3,\r\n      spaceBetween: 27,\r\n    },\r\n  }\r\n});\r\n\r\nconst locationSwiper2 = new Swiper('.locations-gallery__slider', {\r\n  loop: true,\r\n  setWrapperSize: true,\r\n  speed: 700,\r\n  navigation: {\r\n    nextEl: '.locations-gallery__next',\r\n    prevEl: '.locations-gallery__prev',\r\n  },\r\n});\r\n\r\n\r\nconst reviewsSwiper = new Swiper('.reviews__slider', {\r\n  slidesPerView: 1,\r\n  initialSlide: 1,\r\n  loop: true,\r\n  speed: 700,\r\n  navigation: {\r\n    nextEl: '.reviews__next',\r\n    prevEl: '.reviews__prev',\r\n  },\r\n\r\n  breakpoints: {\r\n    850: {\r\n      slidesPerView: 2,\r\n      spaceBetween: 21,\r\n      centeredSlides: false,\r\n    },\r\n\r\n    1025: {\r\n      slidesPerView: 3,\r\n      spaceBetween: 16,\r\n      centeredSlides: true,\r\n    },\r\n  }\r\n});\r\n\r\n\r\n// accordion\r\nlet buttons = Array.from(document.querySelectorAll('.info__more'))\r\n\r\nbuttons.forEach((box) => {\r\n  box.addEventListener('click', boxHandler)\r\n})\r\n\r\nfunction boxHandler(e) {\r\n  e.preventDefault();\r\n  let currentBox = e.target.closest('.accordion')\r\n  let currentHead = currentBox.querySelector('.accordion__head')\r\n  let currentContent = currentBox.querySelector('.info__panel')\r\n  currentBox.classList.toggle(\"accordion-active\")\r\n  if (currentBox.classList.contains(\"accordion-active\")) {\r\n\r\n    currentContent.style.maxHeight = currentContent.scrollHeight + \"px\";\r\n    currentBox.querySelector('.info__btn').innerHTML = `Скрыть`;\r\n    currentHead.lastElementChild.style.display = 'none'\r\n  } else {\r\n    currentContent.style.maxHeight = 0\r\n    currentBox.querySelector('.info__btn').innerHTML = 'Подробнее';\r\n    currentHead.lastElementChild.style.display = 'block'\r\n  }\r\n}\r\n\r\n\r\n// modal\r\nlet modalBtns = document.querySelectorAll('.modal-open');\r\nlet modals = document.querySelectorAll('.modal');\r\nlet body = document.body;\r\n\r\nfunction openModal(elem) {\r\n  elem.classList.add('modal-active')\r\n  body.classList.add('_locked')\r\n}\r\n\r\nfunction closeModal(e) {\r\n  if (e.target.classList.contains('modal__close') || e.target.closest('.modal__close') || e.target.classList.contains('modal__bg')) {\r\n    e.target.closest('.modal').classList.remove('modal-active')\r\n    body.classList.remove('_locked')\r\n  }\r\n}\r\n\r\nmodalBtns.forEach((btn) => {\r\n  btn.addEventListener('click', (e) => {\r\n    let data = e.target.dataset.modalOpen\r\n    modals.forEach(modal => {\r\n      if (modal.classList.contains('modal-active')) {\r\n        modal.classList.remove('modal-active')\r\n      }\r\n      if (modal.dataset.modal == data || modal.dataset.modal == e.target.closest('.modal-open').dataset.modalOpen) {\r\n        openModal(modal)\r\n      }\r\n    })\r\n  })\r\n})\r\n\r\nmodals.forEach(modal => {\r\n  modal.addEventListener('click', e => closeModal(e))\r\n})\r\n\r\nwindow.addEventListener('keydown', e => {\r\n  modals.forEach(modal => {\r\n    if (e.key === 'Escape' && modal.classList.contains('modal-active')) {\r\n      modal.classList.remove('modal-active')\r\n      body.classList.remove('_locked')\r\n    }\r\n  })\r\n})\r\n\r\n  // select\r\n  let selectHeader = document.querySelectorAll('.select__header')\r\n  let selectItems = document.querySelectorAll('.select__item')\r\n\r\n  selectHeader.forEach(elem => {\r\n    elem.addEventListener('click', e => {\r\n      let currentSelect = e.target.closest('.select')\r\n      let currentBody = currentSelect.querySelector('.select__body')\r\n      currentSelect.classList.toggle('select-active')\r\n      if (currentSelect.classList.contains('select-active')) {\r\n        currentBody.style.maxHeight = currentBody.scrollHeight + 'px'\r\n      } else {\r\n        currentBody.style.maxHeight = 0\r\n      }\r\n    })\r\n  })\r\n\r\n\r\n  selectItems.forEach(elem => {\r\n    elem.addEventListener('click', e => {\r\n      let select = e.target.closest('.select')\r\n      let currentItem = e.target\r\n      let currentSelect = select.querySelector('.select__current')\r\n      let currentBody = select.querySelector('.select__body')\r\n      currentSelect.innerHTML = currentItem.innerHTML\r\n      select.classList.toggle('select-active')\r\n      currentBody.style.maxHeight = 0\r\n      if (currentSelect.classList.contains('select__text')) {\r\n        currentSelect.classList.remove('select__text')\r\n      }\r\n    })\r\n  })\r\n\r\n\r\n  // extra \r\n\r\n  var modal\r\n  var currentItem\r\n  var currentSum\r\n\r\n  var priceBtns = document.querySelectorAll('.price__extra-item')\r\n  priceBtns.forEach(btn => { // вешаем событие клика на услугу\r\n    var initialSum = btn.closest('.price__item').querySelector('.price__item-sum').innerHTML // записываем начальную цену тарифа\r\n    btn.addEventListener('click', e => {\r\n      currentItem = e.target.closest('.price__item') // текущий айтем\r\n      currentSum = currentItem.querySelector('.price__item-sum').innerHTML // текущая сумма которая будет изменяться\r\n\r\n      if (currentItem.querySelector('.extra-visagiste')) { // проверяем есть ли в айтем услуга визажиста\r\n        var sum = currentItem.querySelector('.extra-visagiste').innerHTML // если есть записываем цифру из этой услуги\r\n      }\r\n\r\n      if (e.target.classList.contains('extra-retouch')) { // проверяем доп ретушь ли это \r\n        if(currentItem.querySelector('.extra-retouch').classList.contains('active')) { // проверяем активна ли эта доп ретушь\r\n          currentSum = initialSum // если да то в текущую сумму записываем начальную\r\n          if (currentItem.querySelector('.extra-visagiste') && currentItem.querySelector('.extra-visagiste').classList.contains('active')) { // если уже была выбрана услуги визажиста\r\n            currentSum = +initialSum + +sum.match(/\\d/g).join('') // тогда прибавляем к текущей стоимости услуги визажиста\r\n          }\r\n        }  \r\n        if (currentSum == 'N') { // если n то текущая сумма = 0\r\n          currentSum = 0\r\n        }\r\n        modal = document.querySelector('.modal-active'); // записываем открывшееся модальное окно\r\n        var input = modal.querySelector('.form__input') // инпут в этом модальном окне\r\n        input.addEventListener('keyup', function () { // вешаем на него событие\r\n          if (input.value.length > 3) {\r\n            input.value = input.value.slice(0, 3) // не даем написать больше 3 цифр\r\n          }\r\n        })\r\n      }\r\n\r\n      else if (!e.target.classList.contains('extra-retouch')) { // если это не екстра ретушь\r\n        e.target.closest('.price__extra-item').classList.toggle('active') // тогда переключаем класс актив\r\n        if (e.target.classList.contains('extra-visagiste')) { // если это услуги визажиста\r\n          // currentItem = e.target.closest('.price__item') \r\n          if (e.target.classList.contains('active')) { // если уже был класс актив\r\n            currentItem.querySelector('.price__item-sum').innerHTML = +currentSum + +sum.match(/\\d/g).join('') // вместо суммы записываем начальную сумму + цену визажиста\r\n          } else { // если еще не было класса актив\r\n            currentItem.querySelector('.price__item-sum').innerHTML = currentSum - +sum.match(/\\d/g).join('') // из суммы вычитаем цену визажиста\r\n          }\r\n        }\r\n      }\r\n    })\r\n  })\r\n  \r\n\r\n  \r\n  var saveBtn = document.querySelector('.save'); // кнопка сохранить в модальном окне\r\n  saveBtn.addEventListener('click', e => { // вешаем на нее клик\r\n    var amount = modal.querySelector('.form__input').value // цирфа которую пользователь ввел в инпут\r\n    var current = +currentSum + amount * 250 // рассчитываем и записываем сумму с учет выбранных до этого услуг\r\n\r\n    if (amount >= 0 && amount <= 500) { // если пользователь ввел от 0 до 500\r\n      currentItem.querySelector('.price__item-sum').innerHTML = current // меняем цену текущего тарифа на рассчитанную\r\n      modal.classList.remove('modal-active') // прячем модальное окно\r\n      document.body.classList.toggle('_locked') // разблокируем body\r\n    } else {\r\n      alert('Введите число от 0 до 500') // alert\r\n    }\r\n\r\n    if (+amount != 0) { // если amount не 0\r\n      currentItem.querySelector('.extra-retouch').classList.add('active') // добавляем active на доп ретушь\r\n    } else {\r\n      currentItem.querySelector('.extra-retouch').classList.remove('active') // удаляем ее\r\n    }\r\n  })\r\n\r\n\r\n  // add photo \r\n\r\n  let uploadfile = document.getElementById('upload-file')\r\n  let btn = document.querySelector('.form__review-btn')\r\n\r\n  btn.addEventListener('click', function () {\r\n    uploadfile.click();\r\n  })\r\n\r\n  let div = document.createElement('div')\r\n  div.className = 'form__review-box'\r\n  div.setAttribute(\"contenteditable\", \"false\")\r\n\r\n  uploadfile.addEventListener('change', function () {\r\n    if (uploadfile.value) {\r\n      let reviewText = document.querySelector('.form__review-text')\r\n\r\n      if (!reviewText.querySelector('.form__review-box')) {\r\n        reviewText.appendChild(div)\r\n      }\r\n\r\n      let item = document.createElement('div')\r\n      item.className = 'form__review-item'\r\n      let close = document.createElement('div')\r\n      close.className = 'form__review-close'\r\n      let img = document.createElement('img')\r\n      img.className = 'form__review-img'\r\n      div.appendChild(item)\r\n      item.appendChild(img)\r\n      item.appendChild(close)\r\n\r\n      let file = uploadfile.files[0]\r\n      let reader = new FileReader()\r\n      reader.readAsDataURL(file)\r\n      reader.onload = function () {\r\n        img.src = reader.result\r\n      }\r\n\r\n\r\n      let closebtn = document.querySelectorAll('.form__review-close')\r\n      closebtn.forEach(btn => {\r\n        btn.addEventListener('click', e => {\r\n          let currentItem = e.target.closest('.form__review-item')\r\n          currentItem.remove()\r\n        })\r\n      })\r\n\r\n    }\r\n  })\r\n\r\n\r\n\r\n  // menu\r\n  document.querySelector('.header__menu').addEventListener('click', e => {\r\n    if (e.target.classList.contains('header__head') || e.target.closest('.header__head')) {\r\n      let body = e.target.closest('.header__menu').querySelector('.header__body')\r\n      body.classList.toggle('header__body--active')\r\n      document.body.classList.toggle('_locked')\r\n    }\r\n  })\r\n\r\n\r\n  // calc postition close for modal\r\n\r\n  let closeBtns = document.querySelectorAll('.modal__close')\r\n  closeBtns.forEach(btn => {\r\n    let currentBody = btn.closest('.modal').querySelector('.modal__body')\r\n    if(window.innerWidth>970) {\r\n    btn.style.right = (window.innerWidth - currentBody.clientWidth) / 2 + 'px'\r\n    btn.style.top =  (window.innerHeight - currentBody.clientHeight) / 2 - 36 + 'px'\r\n    }\r\n    else {\r\n      btn.style.right = (window.innerWidth - currentBody.clientWidth) / 2 + 12 + 'px'\r\n      btn.style.top =  (window.innerHeight - currentBody.clientHeight) / 2 + 12 + 'px'\r\n    }\r\n  })\r\n\r\n\r\n  window.addEventListener('resize', function() { // если размеры экрана меняются расположение высчитывается заново\r\n\r\n    let closeBtns = document.querySelectorAll('.modal__close')\r\n    closeBtns.forEach(btn => {\r\n      let currentBody = btn.closest('.modal').querySelector('.modal__body')\r\n      if(window.innerWidth>970) {\r\n      btn.style.right = (window.innerWidth - currentBody.clientWidth) / 2 + 'px'\r\n      btn.style.top =  (window.innerHeight - currentBody.clientHeight) / 2 - 36 + 'px'\r\n      }\r\n      else {\r\n        btn.style.right = (window.innerWidth - currentBody.clientWidth) / 2 + 12 + 'px'\r\n        btn.style.top =  (window.innerHeight - currentBody.clientHeight) / 2 + 12 + 'px'\r\n      }\r\n    })\r\n  \r\n  })"]}